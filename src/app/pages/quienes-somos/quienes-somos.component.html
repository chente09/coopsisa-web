<div class="quienes-somos">
    <div *ngFor="let card of cards; let i = index" class="card-container card-item"
        [ngClass]="{ reverse: i % 2 !== 0 }">
        <nz-card class="card-texto tarjetas1-content">
            <h2 class="custom-title">{{ card.title }}</h2>
            <hr />
            <p>{{ card.text }}</p>
            <ul *ngIf="card.subItems && card.subItems.length > 0"></ul>
        </nz-card>

        <div class="card-image">
            <img [src]="card.image" alt="{{ card.title }}" />
        </div>
    </div>

    <nz-card [nzBordered]="true" style="margin-bottom: 16px">
        <h2 class="custom-title">
            {{
            currentLanguage === "es"
            ? "Nuestra evolución como COOPSISA"
            : "Our Evolution as
            COOPSISA"
            }}
        </h2>
        <hr />
        <div nz-flex class="timeline-container">
            <div *ngFor="let event of timelineEvents" class="timeline-item">
                <div class="timeline-content">
                    <strong>{{ event.year }}:</strong> {{ event.description }}
                </div>
            </div>
        </div>
    </nz-card>

    <nz-card class="card-texto">
        <h2 class="custom-title">
            {{
            currentLanguage === "es" ? "Nuestro trabajo fomenta" : "Our Job Fomenta"
            }}
        </h2>
        <hr />
        <div class="carousel-container">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <!-- Indicadores -->
                <div class="carousel-indicators">
                    <button *ngFor="let slide of slides; let i = index" type="button"
                        data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [class.active]="i === 0"
                        aria-current="i === 0 ? 'true' : null" [attr.aria-label]="'Slide ' + (i + 1)"></button>
                </div>
                <!-- Slides -->
                <div class="carousel-inner">
                    <div class="carousel-item" *ngFor="let slide of slides; let i = index" [class.active]="i === 0">
                        <img [src]="slide.image" class="d-block w-100" alt="Imagen del carrusel" />
                        <div class="carousel-caption d-block d-md-block">
                            <h5>{{ slide.text }}</h5>
                        </div>
                    </div>
                </div>
                <!-- Controles -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </nz-card>

    <nz-card class="card-texto" [nzBordered]="true">
        <h2 class="custom-title">
            {{ currentLanguage === "es" ? "Así nos organizamos" : "How We Organize" }}
        </h2>
        <hr />
        <div class="directory-container">
            <div class="column left">
                <div class="card" *ngFor="let member of membersLeft">
                    <div class="icon">
                        <i nz-icon [nzType]="member.icon" [nzTheme]="'outline'"></i>
                    </div>
                    <p>{{ member.role }}</p>
                </div>
            </div>
            <div class="center">
                <img src="https://i.postimg.cc/QxZFBQfg/coopsisa-Logo-removebg-preview.png" alt="Logo Coopsisa"
                    class="logo" />
            </div>

            <div class="column right">
                <div class="card" *ngFor="let member of membersRight">
                    <div class="card-content">
                        <p class="text">{{ member.role }}</p>
                        <div class="icon">
                            <i nz-icon [nzType]="member.icon" [nzTheme]="'outline'"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nz-card>
</div>
<div class="quienes-somos">
    <nz-card [nzBordered]="true">
        <h2 class="custom-title">
            {{ currentLanguage === "es" ? "Nuestros Socios" : "Our Partners" }}
        </h2>
        <hr />
        <div class="equipo">
            <div nz-row [nzGutter]="16" nzJustify="center" class="tarjetas-scroll">
                <div nz-col *ngFor="let miembro of equipo" [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6">
                    <div class="equipo-card">
                        <div class="foto-container">
                            <img [src]="miembro.foto" alt="{{ miembro.nombre }}" class="foto-circular" />
                        </div>
                        <div class="info-container">
                            <h3>{{ miembro.nombre }}</h3>
                            <p>{{ miembro.cargo }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nz-card>
</div>

<div class="transparencia-resultados">
    <nz-card [nzBordered]="true">
        <h2 class="custom-title">
            {{
            currentLanguage === "es"
            ? "Líneas de Acción y Resultados"
            : "Action Lines and
            Results"
            }}
        </h2>
        <hr />
        <nz-collapse class="hover-effect hover-1">
            <h4 class="section-title">
                {{
                currentLanguage === "es"
                ? "Asistencia Técnica"
                : "Technical Assistance"
                }}
            </h4>
            <p class="section-description">
                {{
                currentLanguage === "es"
                ? "Brindamos apoyo especializado para mejorar sus
                procesos productivos, administrativos y comerciales, promoviendo prácticas sostenibles y eficientes."
                : "We provide specialized support to improve your production, administrative and commercial processes,
                promoting sustainable and efficient practices."
                }}
            </p>
        </nz-collapse>
        <br />
        <nz-collapse class="hover-effect hover-2">
            <h4 class="section-title">
                {{
                currentLanguage === "es"
                ? "Fortalecimiento de Capacidades"
                : "Capacity
                Building"
                }}
            </h4>
            <p class="section-description">
                {{
                currentLanguage === "es"
                ? "Desarrollamos programas de formación y
                capacitación para potenciar habilidades técnicas, organizativas y de liderazgo, fomentando la autonomía
                y el crecimiento sostenible."
                : "We develop training and capacity-building programs to empower
                technical, organizational, and leadership skills, fostering autonomy and sustainable growth."
                }}
            </p>
        </nz-collapse>
        <br />
        <nz-collapse class="hover-effect hover-3">
            <h4 class="section-title">
                {{
                currentLanguage === "es"
                ? "Acceso a Financiamiento"
                : "Access to Financing"
                }}
            </h4>
            <p class="section-description">
                {{
                currentLanguage === "es"
                ? "Identificación de oportunidades de
                financiamiento, el desarrollo de propuestas de proyectos y la gestión de consultorías especializadas
                para facilitar el acceso a recursos económicos."
                : "We identify financing opportunities, develop project
                proposals, and manage specialized consultations to facilitate access to economic resources."
                }}
            </p>
        </nz-collapse>
        <nz-collapse class="hover-effect hover-4">
            <h4 class="section-title">
                {{
                currentLanguage === "es"
                ? "Gestión del Conocimiento"
                : "Knowledge Management"
                }}
            </h4>
            <p class="section-description">
                {{
                currentLanguage === "es"
                ? "Promovemos la investigación, el intercambio de
                experiencias y la sistematización de buenas prácticas para generar aprendizajes colectivos y fortalecer
                la toma de decisiones estratégicas."
                : "We promote research, exchange of experiences, and the
                systematization of good practices to generate collective learning and strengthen strategic
                decision-making."
                }}
            </p>
        </nz-collapse>
        <nz-collapse class="hover-effect hover-5">
            <h4 class="section-title">
                {{
                currentLanguage === "es"
                ? "Nuestro Aporte al Desarrollo"
                : "Our Contribution to Development"
                }}
            </h4>
            <p class="section-description">
                {{
                currentLanguage === "es"
                ? "Los resultados obtenidos reflejan el impacto positivo de nuestras estrategias en el fortalecimiento
                de la comunidad y el desarrollo sostenible. Estos avances han contribuido a la consolidación de un
                modelo cooperativo más sólido, equitativo y sostenible."
                : "The results obtained reflect the positive impact of our strategies on community strengthening and
                sustainable development. These advances have contributed to the consolidation of a stronger, more
                equitable, and sustainable cooperative model."
                }}
            </p>

            <!-- Panel 1: Café de la Economía Social y Solidaria -->
            <nz-collapse-panel
                [nzHeader]="currentLanguage === 'es' ? 'Café de la Economía Social y Solidaria' : 'Social and Solidarity Economy Coffee'"
                [nzActive]="false" class="custom-collapse-panel"
                (nzActiveChange)="onPanelChange('cafe-economia', $event)">

                <div style="text-align: center; padding: 40px 20px;">
                    <div style="margin-bottom: 20px;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline" style="font-size: 48px; color: #ef615f;"></i>
                    </div>
                    <h4 style="margin-bottom: 12px; color: #262626;">
                        {{ currentLanguage === 'es' ? 'Café de la Economía Social y Solidaria' : 'Social and Solidarity
                        Economy Coffee' }}
                    </h4>
                    <p
                        style="margin-bottom: 24px; color: #666; max-width: 400px; margin-left: auto; margin-right: auto;">
                        {{
                        currentLanguage === 'es'
                        ? 'Documento que presenta las reflexiones y propuestas desarrolladas en nuestro espacio de
                        diálogo sobre economía social y solidaria.'
                        : 'Document presenting the reflections and proposals developed in our dialogue space on social
                        and solidarity economy.'
                        }}
                    </p>
                    <button nz-button nzType="primary" nzSize="large" (click)="openPdf('cafe-economia')"
                        style="background-color: #ef615f; border-color: #ef615f;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline"></i>
                        {{ currentLanguage === 'es' ? 'Ver Documento PDF' : 'View PDF Document' }}
                    </button>
                </div>
            </nz-collapse-panel>

            <!-- Panel 2: Coordinación de la I Cumbre de Profesionales -->
            <nz-collapse-panel
                [nzHeader]="currentLanguage === 'es' ? 'Coordinación de la I Cumbre de Profesionales' : 'Coordination of the I Summit of Professionals'"
                [nzActive]="false" class="custom-collapse-panel"
                (nzActiveChange)="onPanelChange('cumbre-profesionales', $event)">

                <div style="text-align: center; padding: 40px 20px;">
                    <div style="margin-bottom: 20px;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline" style="font-size: 48px; color: #ef615f;"></i>
                    </div>
                    <h4 style="margin-bottom: 12px; color: #262626;">
                        {{ currentLanguage === 'es' ? 'Coordinación de la I Cumbre de Profesionales' : 'Coordination of
                        the I Summit of Professionals' }}
                    </h4>
                    <p
                        style="margin-bottom: 24px; color: #666; max-width: 400px; margin-left: auto; margin-right: auto;">
                        {{
                        currentLanguage === 'es'
                        ? 'Documento de coordinación y planificación de la Primera Cumbre de Profesionales, incluyendo
                        objetivos, metodología y resultados esperados.'
                        : 'Coordination and planning document for the First Summit of Professionals, including
                        objectives, methodology and expected results.'
                        }}
                    </p>
                    <button nz-button nzType="primary" nzSize="large" (click)="openPdf('cumbre-profesionales')"
                        style="background-color: #ef615f; border-color: #ef615f;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline"></i>
                        {{ currentLanguage === 'es' ? 'Ver Documento PDF' : 'View PDF Document' }}
                    </button>
                </div>
            </nz-collapse-panel>
            <!-- Panel 3: Publicacion la Delicia -->
            <nz-collapse-panel
                [nzHeader]="currentLanguage === 'es' ? 'Publicación de la Delicia' : 'Publication of the Delicia'"
                [nzActive]="false" class="custom-collapse-panel"
                (nzActiveChange)="onPanelChange('publicacion-la-delicia', $event)">

                <div style="text-align: center; padding: 40px 20px;">
                    <div style="margin-bottom: 20px;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline" style="font-size: 48px; color: #ef615f;"></i>
                    </div>
                    <h4 style="margin-bottom: 12px; color: #262626;">
                        {{ currentLanguage === 'es' ? 'Publicación de la Delicia' : 'Publication of the Delicia' }}
                    </h4>
                    <p
                        style="margin-bottom: 24px; color: #666; max-width: 400px; margin-left: auto; margin-right: auto;">
                        {{
                        currentLanguage === 'es'
                        ? 'Documento de publicación de la Delicia, incluyendo objetivos, metodología y resultados
                        esperados.'
                        : 'Publication document for Delicia, including objectives, methodology and expected results.'
                        }}
                    </p>
                    <button nz-button nzType="primary" nzSize="large" (click)="openPdf('publicacion-la-delicia')"
                        style="background-color: #ef615f; border-color: #ef615f;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline"></i>
                        {{ currentLanguage === 'es' ? 'Ver Documento PDF' : 'View PDF Document' }}
                    </button>
                </div>
            </nz-collapse-panel>
            <!-- Panel 4: Publicacion Ruminahui -->
            <nz-collapse-panel
                [nzHeader]="currentLanguage === 'es' ? 'Publicación de Rumiñahui' : 'Publication of Rumiñahui'"
                [nzActive]="false" class="custom-collapse-panel"
                (nzActiveChange)="onPanelChange('publicacion-ruminahui', $event)">

                <div style="text-align: center; padding: 40px 20px;">
                    <div style="margin-bottom: 20px;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline" style="font-size: 48px; color: #ef615f;"></i>
                    </div>
                    <h4 style="margin-bottom: 12px; color: #262626;">
                        {{ currentLanguage === 'es' ? 'Publicación de Rumiñahui' : 'Publication of Rumiñahui' }}
                    </h4>
                    <p
                        style="margin-bottom: 24px; color: #666; max-width: 400px; margin-left: auto; margin-right: auto;">
                        {{
                        currentLanguage === 'es'
                        ? 'Documento de publicación de Rumiñahui, incluyendo objetivos, metodología y resultados esperados.'
                        : 'Publication document for Rumiñahui, including objectives, methodology and expected results.'
                        }}
                    </p>
                    <button nz-button nzType="primary" nzSize="large" (click)="openPdf('publicacion-ruminahui')"
                        style="background-color: #ef615f; border-color: #ef615f;">
                        <i nz-icon nzType="file-pdf" nzTheme="outline"></i>
                        {{ currentLanguage === 'es' ? 'Ver Documento PDF' : 'View PDF Document' }}
                    </button>
                </div>
            </nz-collapse-panel>
        </nz-collapse>

        <!-- COMPONENTE VISOR PDF -->
        <app-pdf-viewer *ngIf="selectedPdfData" [isVisible]="showPdfViewer" [pdfUrl]="selectedPdfData.url"
            [title]="selectedPdfData.title" [author]="selectedPdfData.author"
            [institution]="selectedPdfData.institution" (closeViewer)="closePdfViewer()">
        </app-pdf-viewer>

    </nz-card>
</div>