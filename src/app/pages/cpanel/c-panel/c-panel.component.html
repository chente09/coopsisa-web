<div class="admin-panel">
    <nz-layout>
        <!-- Men煤 lateral -->
        <nz-sider [nzCollapsible]="true" [nzWidth]="250" class="sider">
            <div class="logo">
                <h2 style="color: aliceblue;">Administraci贸n</h2>
            </div>
            <div class="menu-buttons">
                <button nz-button nzBlock nzType="default" (click)="selectSection('0')"
                    [nzLoading]="selectedKey === '0'">
                    Inicio
                </button>
                <button nz-button nzBlock nzType="default" (click)="selectSection('1')"
                    [nzLoading]="selectedKey === '1'">
                    Logos
                </button>
                <button nz-button nzBlock nzType="default" (click)="selectSection('2')"
                    [nzLoading]="selectedKey === '2'">
                    Welcome index
                </button>
                <button nz-button nzBlock nzType="default" (click)="selectSection('3')"
                    [nzLoading]="selectedKey === '3'">
                    Sobre CoopSisa index
                </button>
                <button nz-button nzBlock nzType="default" (click)="selectSection('4')"
                    [nzLoading]="selectedKey === '4'">
                    Servicios index
                </button>
                <button nz-button nzBlock nzType="default" (click)="selectSection('5')"
                    [nzLoading]="selectedKey === '5'">
                    Ecosistema index
                </button>
                <!-- Bot贸n de cerrar sesi贸n -->
                <button nz-button nzBlock nzType="primary" nzDanger (click)="logout()">
                    Cerrar Sesi贸n
                </button>
            </div>

        </nz-sider>

        <!-- Contenido principal -->
        <nz-layout>
            <nz-content class="content">
                <div *ngIf="selectedKey === '0'">
                    <div class="admin-panel-container">
                        <!-- T铆tulo -->
                        <div class="admin-panel-header">
                            <h2>Administraci贸n del Sitio</h2>
                            <p>Selecciona una secci贸n para administrar el contenido de la p谩gina.</p>
                        </div>
                        <!-- Men煤 de opciones -->
                        <div class="admin-panel-menu">
                            <button (click)="selectSection('1')" class="admin-panel-btn">
                                <strong>Logo de la Empresa</strong>
                                <br> Sube o cambia el logo que se encuentra en la navbar y footer de forma
                                independiente.
                            </button>

                            <button (click)="selectSection('2')" class="admin-panel-btn">
                                <strong>Componente de Inicio</strong>
                                <br> Gestiona los datos que se muestran y son 煤nicos de la index principal.
                            </button>

                            <button (click)="selectSection('3')" class="admin-panel-btn">
                                <strong>Componente de Sobre CoopSisa</strong>
                                <br> Gestiona los datos que se muestran y son 煤nicos de la index de Sobre CoopSisa.
                            </button>

                            <button (click)="selectSection('4')" class="admin-panel-btn">
                                <strong>Componente de Servicios</strong>
                                <br> Gestiona los datos que se muestran y son 煤nicos de la index de Servicios.
                            </button>

                            <button (click)="selectSection('5')" class="admin-panel-btn">
                                <strong>Componente de Ecosistema</strong>
                                <br> Modifica tarjetas y archivos descargables.
                            </button>

                            <button [routerLink]="['/formularios']" routerLinkActive="router-link-active"  class="admin-panel-btn">
                                <strong>Administraci贸n de Formularios</strong>
                                <br> Gestiona los formularios de consultas y de colaboraci贸n.
                            </button>
                        </div>
                    </div>
                </div>
                <div *ngIf="selectedKey === '1'">
                    <h2>Configurar Navbar y Footer</h2>
                    <p>Puedes subir nuevos logos para el Navbar y el Footer o cambiar los actuales.</p>
                    <!--  Subir nuevo logo -->
                    <nz-card class="upload-card">
                        <h3>Subir Nuevo Logo</h3>
                        <input type="file" (change)="onFileSelected($event)" accept="image/*">
                        <nz-spin *ngIf="uploading" nzTip="Subiendo imagen..."></nz-spin>
                        <div *ngIf="imagePreview" class="preview-container">
                            <h4>Vista previa</h4>
                            <img [src]="imagePreview" width="150" class="preview-img" />
                        </div>
                        <button nz-button nzType="primary" (click)="uploadNavbarLogo()"
                            [disabled]="!selectedFile || uploading">
                            Subir como Navbar
                        </button>
                        <button nz-button nzType="primary" (click)="uploadFooterLogo()"
                            [disabled]="!selectedFile || uploading">
                            Subir como Footer
                        </button>
                    </nz-card>
                    <!--  Logos actuales -->
                    <h3>Logos Actuales</h3>
                    <div class="current-logos">
                        <div>
                            <h4>Navbar</h4>
                            <img [src]="navbarLogo" width="150" class="current-logo-img" />
                        </div>
                        <div>
                            <h4>Footer</h4>
                            <img [src]="footerLogo" width="150" class="current-logo-img" />
                        </div>
                    </div>
                    <hr class="divider" />
                    <!--  Lista de logos disponibles -->
                    <h3>Logos Disponibles</h3>
                    <p>Se muestran los logos disponibles en la navbar y el footer, de forma independiente.</p>
                    <div class="container">
                        <div nz-row nzGutter="16">
                            <!-- Logos Navbar -->
                            <div nz-col nzSpan="12">
                                <h4>Logos Navbar</h4>
                                <div class="logo-grid">
                                    <nz-card *ngFor="let logo of navbarLogos" class="logo-item">
                                        <img [src]="logo.url" class="logo-img" />
                                        <div class="logo-actions">
                                            <button type="button"
                                                class="btn btn-outline-info btn-sm d-flex align-items-center"
                                                (click)="setNavbarLogo(logo.url)">
                                                <i nz-icon nzType="info-circle" nzTheme="outline"></i> Usar en Navbar
                                            </button>
                                            <button type="button"
                                                class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                                (click)="deleteLogo(logo, 'navbar')">
                                                <i nz-icon nzType="delete" nzTheme="outline"></i> Eliminar
                                            </button>
                                        </div>
                                    </nz-card>
                                </div>
                            </div>

                            <!-- Logos Footer -->
                            <div nz-col nzSpan="12">
                                <h4>Logos Footer</h4>
                                <div class="logo-grid">
                                    <nz-card *ngFor="let logo of footerLogos" class="logo-item">
                                        <img [src]="logo.url" class="logo-img" />
                                        <div class="logo-actions">
                                            <button type="button"
                                                class="btn btn-outline-info btn-sm d-flex align-items-center"
                                                (click)="setFooterLogo(logo.url)">
                                                <i nz-icon nzType="info-circle" nzTheme="outline"></i> Usar en Footer
                                            </button>
                                            <button type="button"
                                                class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                                (click)="deleteLogo(logo, 'footer')">
                                                <i nz-icon nzType="delete" nzTheme="outline"></i> Eliminar
                                            </button>
                                        </div>
                                    </nz-card>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div *ngIf="selectedKey === '2'">
                    <h1>Puedes editar la informaci贸n que se muestra en la index principal y no son parte de otras
                        secciones.</h1>
                    <h4>Administraci贸n del Carrusel</h4>
                    <p>Agrega, edita o elimina contenido que se muestra en el carrusel principal.</p>
                    <p>Se recomienda usar un solo tama帽o de imaganes el ancho de 1200px y alto de 600px. Estas medidas
                        deber谩n ser mantidas en todas las imagenes para una buena presentaci贸n. </p>
                    <p>Para para la ruta de navegacion, se puede colocar links externos o internos. Permite navegar
                        fuera de la p谩gina.</p>
                    <!-- Formulario para agregar/editar slide -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingSlideId ? 'Editar Slide' : 'Crear Slide' }}</h2>
                        <form (ngSubmit)="submitSlide()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Texto</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newSlide.text" name="text"
                                        placeholder="Ingresa el texto" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Texto del Bot贸n</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newSlide.buttonText" name="buttonText"
                                        placeholder="Texto del bot贸n" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Ruta de Navegaci贸n</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newSlide.route" name="route" placeholder="Ej: /home"
                                        required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onSlideFileChange($event)" />
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingSlideId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingSlideId" nz-button nzType="default" (click)="cancelEditSlide()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Slides -->
                    <div *ngIf="slides.length > 0" class="slides-list-container">
                        <h3 class="section-title">Slides Creados</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let slide of slides" [nzSpan]="6" class="slide-column">
                                <nz-card [nzTitle]="slide.text" class="custom-slide" [nzBordered]="true">
                                    <img [src]="slide.image" alt="Imagen del slide" class="slide-image" />
                                    <p class="slide-description">Bot贸n: {{ slide.buttonText }} | Ruta: {{ slide.route }}
                                    </p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditSlide(slide)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>

                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteSlide(slide.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="slides.length === 0" class="no-slides-message">
                        <p>No hay slides creados.</p>
                    </div>
                    <!-- Administraci贸n de Tarjetas -->
                    <h4>Administraci贸n de trajetas resumen de servicios.</h4>
                    <p>Agrega, edita o elimina contenido que se muestra en la secci贸n de tarjetas. El tama帽o de la
                        imagenes se ajustan din谩micamente, pero se recomineda un tama帽o m铆nimo de 400px por 400px.</p>
                    <p>Para colocar la ruta a una secci贸n, se recomienda usar el siguiente formato: "/servicios" solo
                        permite navegar en las index propias de la p谩gina</p>
                    <!-- Formulario para agregar/editar tarjeta -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingItemId2 ? 'Editar Tarjeta' : 'Crear Tarjeta' }}</h2>
                        <form (ngSubmit)="submitTarjeta()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">T铆tulo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newItem2.titulo" name="titulo"
                                        placeholder="Ingresa el t铆tulo de la tarjeta" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Ruta</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newItem2.ruta" name="ruta"
                                        placeholder="Ejemplo: /contacto" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onFileChange2($event)" />
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingItemId2 ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingItemId2" nz-button nzType="default" (click)="cancelEditTarjeta()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Tarjetas -->
                    <div *ngIf="tarjetas.length > 0" class="slides-list-container">
                        <h3 class="section-title">Tarjetas Creadas</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let tarjeta of tarjetas" [nzSpan]="6" class="tarjeta-column">
                                <nz-card [nzTitle]="tarjeta.titulo" class="custom-tarjeta" [nzBordered]="true">
                                    <img [src]="tarjeta.imagen" alt="Imagen de la tarjeta" class="slide-image" />
                                    <p class="tarjeta-description">Ruta: {{ tarjeta.ruta }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditTarjeta(tarjeta)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>

                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteTarjetaItem(tarjeta.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="tarjetas.length === 0" class="no-tarjetas-message">
                        <p>No hay tarjetas creadas.</p>
                    </div>
                    <br>
                    <!-- Administraci贸n de Videos -->
                    <h4>Administraci贸n de Videos</h4>
                    <p>Agrega o elimina contenido que se muestra en la secci贸n de videos.</p>
                    <p>Los videos deben ser en formato MP4. El tama帽o se ajusta autom谩ticamente, solo se puede cargar un
                        video a la vez, no se puede editar.</p>
                    <p>La descripci贸n es importante dado que es el texto que se muestra en la parte superior del video.
                    </p>
                    <!-- Formulario para cargar un video -->
                    <div class="form-container">
                        <h2 class="form-title">Subir Video</h2>
                        <nz-form-item>
                            <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                            <nz-form-control>
                                <input nz-input [(ngModel)]="videoDescription" name="description"
                                    placeholder="Ingresa la descripci贸n" required />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label [nzRequired]="true">Selecciona un Video</nz-form-label>
                            <nz-form-control>
                                <input type="file" accept="video/*" (change)="onVideoSelected($event)" />
                            </nz-form-control>
                        </nz-form-item>
                        <!-- Barra de progreso -->
                        <div *ngIf="uploadingVideo" class="progress-container">
                            <nz-progress [nzPercent]="uploadProgress" [nzStrokeWidth]="6"></nz-progress>
                        </div>
                        <div class="button-container">
                            <button nz-button nzType="primary" [disabled]="uploadingVideo" (click)="uploadVideo()">
                                {{ uploadingVideo ? 'Subiendo...' : 'Subir Video' }}
                            </button>
                        </div>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Videos -->
                    <div *ngIf="videos.length > 0" class="slides-list-container">
                        <h3 class="section-title">Videos Subidos</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let video of videos" [nzSpan]="8" class="video-column">
                                <nz-card class="custom-video" [nzBordered]="true">
                                    <p class="video-description">Descripci贸n: {{ video.description }}</p>
                                    <video width="100%" height="150" controls>
                                        <source [src]="video.url" type="video/mp4" />
                                        Tu navegador no soporta el tag de video.
                                    </video>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteVideo(video)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="videos.length === 0" class="no-videos-message">
                        <p>No hay videos subidos.</p>
                    </div>
                </div>
                <div *ngIf="selectedKey === '3'">
                    <h1>Puedes editar la informaci贸n que se muestra en la index de Sobre CoopSisa y no son parte de
                        otras secciones.</h1>
                    <h4>Tarjetas de informacion</h4>
                    <p>Agrega, edita o elimina contenido que se muestra en la secci贸n de tarjetas de informaci贸n.</p>
                    <p>Se recomienda usar un solo tama帽o de imaganes, el ancho de 650px y alto de 350px.</p>
                    <!-- Formulario para agregar/editar "Nosotros" -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingNosotrosId ? 'Editar Tarjeta' : 'Crear Tarjeta' }}</h2>
                        <form (ngSubmit)="submitNosotros()" class="admin-form">

                            <!-- Campo de T铆tulo -->
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">T铆tulo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newNosotros.title" name="title"
                                        placeholder="Ingresa el t铆tulo de la Tarjeta" required />
                                </nz-form-control>
                            </nz-form-item>

                            <!-- Campo de Descripci贸n -->
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input [(ngModel)]="newNosotros.text" name="text"
                                        placeholder="Ingresa la descripci贸n" required></textarea>
                                </nz-form-control>
                            </nz-form-item>

                            <!-- Campo de Subitems -->
                            <!-- <nz-form-item>
                                <nz-form-label [nzRequired]="true">Subelementos</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newNosotros.subItems" name="subItems"
                                        placeholder="Subelementos separados por coma" required />
                                </nz-form-control>
                            </nz-form-item> -->

                            <!-- Campo de Imagen -->
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onNosotrosFileChange($event)" />
                                </nz-form-control>
                            </nz-form-item>

                            <!-- Botones de Guardar / Cancelar -->
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingNosotrosId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingNosotrosId" nz-button nzType="default"
                                    (click)="cancelEditNosotros()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Secciones "Nosotros" -->
                    <div *ngIf="nosotrosList.length > 0" class="nosotros-list-container">
                        <h3 class="section-title">Secciones de Nosotros</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let nosotros of nosotrosList" [nzSpan]="6" class="nosotros-column">
                                <nz-card [nzTitle]="nosotros.title" class="custom-nosotros" [nzBordered]="true">
                                    <img [src]="nosotros.image" alt="Imagen de la secci贸n" class="slide-image" />
                                    <p class="nosotros-description">{{ nosotros.text }}</p>
                                    <!-- <p><strong>Subelementos:</strong> {{ nosotros.subItems }}</p> -->
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditNosotros(nosotros)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>

                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteNosotros(nosotros.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="nosotrosList.length === 0" class="no-nosotros-message">
                        <p>No hay secciones creadas.</p>
                    </div>
                    <hr class="divider" />
                    <h4>Administraci贸n de L铆nea de Tiempo</h4>
                    <p>Agrega, edita o elimina eventos que se muestran en la secci贸n de L铆nea de Tiempo.</p>
                    <p>El orden de los eventos se determina por el a帽o, ya se encuentra programado en la lectura de la
                        p谩gina. </p>
                    <!-- Formulario para agregar/editar un evento -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingEventId ? 'Editar Evento' : 'Crear Evento' }}</h2>
                        <form (ngSubmit)="submitTimelineEvent()" class="admin-form">

                            <!-- Campo de A帽o -->
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">A帽o</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newEvent.year" name="year"
                                        placeholder="Ingresa el a帽o del evento" required />
                                </nz-form-control>
                            </nz-form-item>

                            <!-- Campo de Descripci贸n -->
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input [(ngModel)]="newEvent.description" name="description"
                                        placeholder="Ingresa la descripci贸n del evento" required></textarea>
                                </nz-form-control>
                            </nz-form-item>

                            <!-- Botones de Guardar / Cancelar -->
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingEventId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingEventId" nz-button nzType="default" (click)="cancelEditEvent()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Eventos -->
                    <div *ngIf="timelineEvents.length > 0" class="timeline-list-container">
                        <h3 class="section-title">Eventos de la L铆nea de Tiempo</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let event of timelineEvents" [nzSpan]="6" class="timeline-column">
                                <nz-card [nzTitle]="event.year" class="custom-timeline" [nzBordered]="true">
                                    <p class="timeline-description">{{ event.description }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditEvent(event)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>

                                        <!-- Bot贸n de Eliminar -->
                                        <button *ngIf="event.id" type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteEvent(event.id)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="timelineEvents.length === 0" class="no-events-message">
                        <p>No hay eventos creados.</p>
                    </div>
                    <hr class="divider">
                    <h4>Configuraci贸n de Carruseles</h4>
                    <p>Agrega, edita o elimina carruseles que se muestran en la secci贸n de Carrusel.</p>
                    <p>Se recomienda usar un solo tama帽o de imaganes el ancho de 1200px y alto de 600px. Estas medidas
                        deber谩n ser mantidas en todas las imagenes para una buena presentaci贸n. </p>
                    <div class="form-container">
                        <h2 class="form-title">{{ editingCarruselId ? 'Editar Carrusel' : 'Crear Carrusel' }}</h2>
                        <select (change)="selectCollection($event)">
                            <option value="job-foment">Trabajo Fomenta</option>
                        </select>
                        <form (ngSubmit)="saveCarrusel()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Texto</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newCarrusel.text" name="text"
                                        placeholder="Ingresa el texto que se mostrar谩 en el carrusel" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="handleFileInput($event)" />
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingCarruselId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingCarruselId" nz-button nzType="default"
                                    (click)="cancelEditCarrusel()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <div *ngIf="carruseles$ | async as carruseles" class="slides-list-container">
                        <h3 class="section-title">Carruseles Creados</h3>
                        <div *ngFor="let carrusel of carruseles">
                            <p>{{ carrusel.description }}</p>
                        </div>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let carrusel of carruseles" [nzSpan]="6" class="slide-column">
                                <nz-card [nzTitle]="carrusel.text" class="custom-slide" [nzBordered]="true">
                                    <img [src]="carrusel.image" alt="Imagen del carrusel" class="slide-image" />
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditCarrusel(carrusel)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteCarrusel(carrusel.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="(carruseles$ | async)?.length === 0" class="no-slides-message">
                        <p>No hay carruseles creados.</p>
                    </div>
                    <hr class="divider" />
                    <h4>Configuraci贸n de Miembros</h4>
                    <p>Agrega, edita o elimina miembros que se muestran en la secci贸n de Miembros.</p>
                    <p>Importanete colocar el numero de orden en el que se desean mostrar los miembros, solo conlocar
                        n煤meros enteros.</p>
                    <p>Para saber que icono utilizar, pueden usar el siguiente link: <a
                            href="https://ng.ant.design/components/icon/en" class="btn btn-outline-info" target="_blank"
                            style="height: auto; width: 100px;">Ver iconos</a> Se recomienda usar el siguiente formato:
                        "solution", solo colocar el nombre del icono.</p>
                    <div class="form-container">
                        <h2 class="form-title">{{ editingMemberId ? 'Editar Miembro' : 'Crear Miembro' }}</h2>
                        <form (ngSubmit)="saveMember()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Rol</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newMember.role" name="role"
                                        placeholder="Ingresa el rol" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Oreden</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newMember.order" name="order"
                                        placeholder="Ingresa el n煤mero de orden" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">cono</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newMember.icon" name="icon"
                                        placeholder="Ejemplo: solution" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Grupo</nz-form-label>
                                <nz-form-control>
                                    <select [(ngModel)]="newMember.group" name="group" nz-select>
                                        <option value="left">Izquierda</option>
                                        <option value="right">Derecha</option>
                                    </select>
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingMemberId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingMemberId" nz-button nzType="default" (click)="cancelEditMember()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <div *ngIf="membersLeft.length || membersRight.length" class="members-list-container">
                        <h3 class="section-title">Miembros Registrados</h3>
                        <nz-row [nzGutter]="16">
                            <!-- Miembros del grupo Izquierda -->
                            <nz-col *ngFor="let member of membersLeft" [nzSpan]="6" class="member-column">
                                <nz-card [nzTitle]="member.role" class="custom-member" [nzBordered]="true">
                                    <p>Grupo: Izquierda</p>
                                    <p>Orden: {{ member.order }}</p>
                                    <div class="icon">
                                        <p>Icono: <i nz-icon [nzType]="member.icon" [nzTheme]="'outline'"></i></p>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditMember(member)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteMember(member.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                            <!-- Miembros del grupo Derecha -->
                            <nz-col *ngFor="let member of membersRight" [nzSpan]="6" class="member-column">
                                <nz-card [nzTitle]="member.role" class="custom-member" [nzBordered]="true">
                                    <p>Grupo: Derecha</p>
                                    <p>Orden: {{ member.order }}</p>
                                    <div class="icon">
                                        <p>Icono: <i nz-icon [nzType]="member.icon" [nzTheme]="'outline'"></i></p>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditMember(member)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteMember(member.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="!membersLeft.length && !membersRight.length" class="no-members-message">
                        <p>No hay miembros registrados.</p>
                    </div>
                    <hr class="divider" />
                    <h4>Administraci贸n del Equipo</h4>
                    <p>Agrega, edita o elimina miembros que se muestran en la secci贸n de Miembros.</p>
                    <p>Se recomienda que el tama帽o de la imagen sea superior de 600px por 600px</p>
                    <!-- Formulario para agregar/editar miembro del equipo -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editandoMiembroId ? 'Editar Miembro' : 'Agregar Miembro' }}</h2>
                        <form (ngSubmit)="enviarMiembro()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Nombre</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="nuevoMiembro.nombre" name="nombre"
                                        placeholder="Ingresa el nombre" required />
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Cargo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="nuevoMiembro.cargo" name="cargo"
                                        placeholder="Ingresa el cargo" required />
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Foto</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onArchivoSeleccionado($event)" />
                                </nz-form-control>
                            </nz-form-item>

                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editandoMiembroId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editandoMiembroId" nz-button nzType="default"
                                    (click)="cancelarEdicion()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Miembros del Equipo -->
                    <div *ngIf="equipo.length > 0" class="equipo-list-container">
                        <h3 class="section-title">Miembros del Equipo</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let miembro of equipo" [nzSpan]="6" class="miembro-column">
                                <nz-card [nzTitle]="miembro.nombre" class="custom-miembro" [nzBordered]="true">
                                    <img [src]="miembro.foto" alt="Foto del miembro" class="slide-image" />
                                    <p class="miembro-description">Cargo: {{ miembro.cargo }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="iniciarEdicion(miembro)">
                                            <i nz-icon nzType="edit" nzTheme="outline"></i> Editar
                                        </button>
                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="eliminarMiembro(miembro.id!)">
                                            <i nz-icon nzType="delete" nzTheme="outline"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="equipo.length === 0" class="no-equipo-message">
                        <p>No hay miembros en el equipo.</p>
                    </div>
                </div>
                <div *ngIf="selectedKey === '4'">
                    <h1>Puedes editar la informaci贸n que se muestra en la index de Servicios y no son parte de otras
                        secciones.</h1>
                    <!-- Administraci贸n de Laboratorios -->
                    <h4>Administraci贸n de Laboratorios</h4>
                    <p>Agrega, edita o elimina contenido que se muestra en la secci贸n de Laboratorios.</p>
                    <p>En la lista desplegable se puede seleccionar la colecci贸n de laboratorios o escuelas segun la
                        necesidad.</p>
                    <p>Para saber que icono utilizar, pueden usar el siguiente link: <a
                            href="https://ng.ant.design/components/icon/en" class="btn btn-outline-info" target="_blank"
                            style="height: auto; width: 100px;">Ver iconos</a> Se recomienda usar el siguiente formato:
                        "solution", solo colocar el nombre del icono.</p>
                    <!-- Selecci贸n de colecci贸n (Similar a "Carruseles") -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingLaboratorioId ? 'Editar Laboratorio' : 'Crear Laboratorio' }}
                        </h2>
                        <!-- Dropdown para seleccionar la colecci贸n de laboratorios -->
                        <select [(ngModel)]="selectedCollectionlab" (change)="selectCollectionLab($event)">
                            <option value="laboratorios">Laboratorios</option>
                            <option value="schol-tj">Escuelas</option>
                        </select>
                        <!-- Formulario de laboratorio -->
                        <form (ngSubmit)="submitLaboratorio()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">T铆tulo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newLaboratorio.titulo" name="titulo"
                                        placeholder="Ingresa el t铆tulo del laboratorio" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input [(ngModel)]="newLaboratorio.descripcion" name="descripcion"
                                        placeholder="Ingresa una descripci贸n" required></textarea>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="false">cono</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newLaboratorio.icono" name="icono"
                                        placeholder="Ejemplo: bi bi-laboratory" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onLaboratorioFileChange($event)" />
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingLaboratorioId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingLaboratorioId" nz-button nzType="default"
                                    (click)="cancelEditLaboratorio()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de Laboratorios -->
                    <div *ngIf="laboratorios.length > 0" class="laboratorios-list-container">
                        <h3 class="section-title">Laboratorios Creados</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let laboratorio of laboratorios" [nzSpan]="6" class="laboratorio-column">
                                <nz-card [nzTitle]="laboratorio.titulo" class="custom-laboratorio" [nzBordered]="true">
                                    <div class="icon">
                                        <p>Icono: <i nz-icon [nzType]="laboratorio.icono" [nzTheme]="'outline'"></i></p>
                                    </div>
                                    <img [src]="laboratorio.image" alt="Imagen del laboratorio" class="slide-image" />
                                    <p class="laboratorio-description">{{ laboratorio.descripcion }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditLaboratorio(laboratorio)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteLaboratorio(laboratorio.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <!-- Mensaje cuando no hay laboratorios -->
                    <div *ngIf="laboratorios.length === 0" class="no-laboratorios-message">
                        <p>No hay tarjetas creadas.</p>
                    </div>
                    <hr class="divider" />
                    <h4>Configuraci贸n de Carruseles</h4>
                    <p>Agrega, edita o elimina carruseles que se muestran en la secci贸n de los servicios.</p>
                    <p>Es necesario ingresar una sola descripci贸n para evitar errores,
                        para la edici贸n deber谩 seleccionar la tarjeta en la que se ingres贸 la descripci贸n.
                        Esta es la descripci贸n que se muestra despues de cada t铆tulo.</p>
                    <div class="form-container">
                        <h2 class="form-title">{{ editingCarruselId ? 'Editar Carrusel' : 'Crear Carrusel' }}</h2>
                        <select (change)="selectCollection($event)">
                            <option value="lab-carrusel">Laboratorios</option>
                            <option value="escuelas">Escuelas</option>
                            <option value="neg-solid">Negocios Solidarios</option>
                        </select>
                        <form (ngSubmit)="saveCarrusel()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Texto</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newCarrusel.text" name="text"
                                        placeholder="Ingresa el texto que se mostrar谩 en el carrusel" required />
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="false">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input [(ngModel)]="newCarrusel.description" name="description"
                                        placeholder="Solo es necesario ingresar una descripci贸n para evitar errores"
                                        required></textarea>
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="handleFileInput($event)" />
                                </nz-form-control>
                            </nz-form-item>

                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingCarruselId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingCarruselId" nz-button nzType="default"
                                    (click)="cancelEditCarrusel()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <div *ngIf="carruseles$ | async as carruseles" class="slides-list-container">
                        <h3 class="section-title">Carruseles Creados</h3>
                        <div *ngFor="let carrusel of carruseles">
                            <p>{{ carrusel.description }}</p>
                        </div>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let carrusel of carruseles" [nzSpan]="6" class="slide-column">
                                <nz-card [nzTitle]="carrusel.text" class="custom-slide" [nzBordered]="true">
                                    <img [src]="carrusel.image" alt="Imagen del carrusel" class="slide-image" />
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditCarrusel(carrusel)">
                                            <i class="bi bi-pencil me-2"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteCarrusel(carrusel.id!)">
                                            <i class="bi bi-trash me-2"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="(carruseles$ | async)?.length === 0" class="no-slides-message">
                        <p>No hay carruseles creados.</p>
                    </div>
                </div>
                <div *ngIf="selectedKey === '5'">
                    <h1>Puedes editar la informaci贸n que se muestra en la index de ecosistema.</h1>
                    <h4>Tarjetas del ecosistema.</h4>
                    <p>Agrega, edita o elimina contenido que se muestra en la secci贸n de tarjetas del ecosistema.</p>
                    <p>Se recomienda usar un solo tama帽o de imaganes, el ancho de 400px y alto de 400px.</p>
                    <!-- Formulario para agregar/editar item del ecosistema -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingItemId ? 'Editar Item' : 'Crear Item' }}</h2>
                        <form (ngSubmit)="submitItem()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">T铆tulo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newItem.title" name="title"
                                        placeholder="Ingresa el t铆tulo del item" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newItem.description" name="description"
                                        placeholder="Ingresa una descripci贸n" required />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onFileChange($event)" />
                                </nz-form-control>
                            </nz-form-item>
                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmitting">
                                    {{ editingItemId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingItemId" nz-button nzType="default" (click)="cancelEditItem()">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de items del ecosistema -->
                    <div *ngIf="ecosystemItems.length > 0" class="ecosystem-items-list-container">
                        <h3 class="section-title">Elementos del Ecosistema</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let item of ecosystemItems" [nzSpan]="6" class="ecosystem-item-column">
                                <nz-card [nzTitle]="item.title" class="custom-slide" [nzBordered]="true">
                                    <img [src]="item.image" alt="Imagen del item" class="slide-image" />
                                    <p class="ecosystem-item-description">{{ item.description }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditItem(item)">
                                            <i nz-icon nzType="edit" nzTheme="outline"></i> Editar
                                        </button>
                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteItem(item.id!)">
                                            <i nz-icon nzType="delete" nzTheme="outline"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="ecosystemItems.length === 0" class="no-ecosystem-items-message">
                        <p>No hay elementos del ecosistema creados.</p>
                    </div>
                    <hr class="divider" />
                    <h4>Administraci贸n del Ecosistema</h4>
                    <p>Agrega, edita o elimina documentos que se muestran en la secci贸n de Ecosistema.</p>
                    <p>la imagen debe ser de 400px por 400px, se usa de miniatura para el documento.</p>
                    <!-- Formulario para agregar/editar documento -->
                    <div class="form-container">
                        <h2 class="form-title">{{ editingDocsId ? 'Editar Documento' : 'Crear Documento' }}</h2>
                        <form (ngSubmit)="submitDocument()" class="admin-form">
                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">T铆tulo</nz-form-label>
                                <nz-form-control>
                                    <input nz-input [(ngModel)]="newdocument.title" name="title" placeholder="T铆tulo"
                                        required />
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Descripci贸n</nz-form-label>
                                <nz-form-control>
                                    <textarea nz-input [(ngModel)]="newdocument.description" name="description"
                                        placeholder="Descripci贸n" required></textarea>
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label [nzRequired]="true">Imagen</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onImageChange($event)" />
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label>Documento (Opcional)</nz-form-label>
                                <nz-form-control>
                                    <input type="file" (change)="onDocumentChange($event)" />
                                </nz-form-control>
                            </nz-form-item>

                            <div class="button-container">
                                <button nz-button nzType="primary" [disabled]="isSubmittingDocs">
                                    {{ editingDocsId ? 'Actualizar' : 'Guardar' }}
                                </button>
                                <button *ngIf="editingDocsId" nz-button nzType="default"
                                    (click)="cancelEditDocument()">Cancelar</button>
                            </div>
                        </form>
                    </div>
                    <hr class="divider" />
                    <!-- Lista de documentos -->
                    <div *ngIf="ecosystemDocuments.length > 0" class="ecosystem-items-list-container">
                        <h3 class="section-title">Documentos Cargados</h3>
                        <nz-row [nzGutter]="16">
                            <nz-col *ngFor="let doc of ecosystemDocuments" [nzSpan]="6" class="ecosystem-item-column">
                                <nz-card [nzTitle]="doc.title" class="custom-slide" [nzBordered]="true">
                                    <img [src]="doc.imageUrl" alt="Imagen del item" class="slide-image" />
                                    <p class="ecosystem-item-description">{{ doc.description }}</p>
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <!-- Bot贸n de Editar -->
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            (click)="startEditDocument(doc)">
                                            <i nz-icon nzType="edit" nzTheme="outline"></i> Editar
                                        </button>
                                        <button type="button"
                                            class="btn btn-outline-info btn-sm d-flex align-items-center"
                                            *ngIf="doc.fileUrl" (click)="downloadFile(doc.fileUrl)">
                                            <i nz-icon nzType="eye" nzTheme="outline"></i> Ver
                                        </button>
                                        <!-- Bot贸n de Eliminar -->
                                        <button type="button"
                                            class="btn btn-outline-danger btn-sm d-flex align-items-center"
                                            (click)="deleteDocument(doc.id!)">
                                            <i nz-icon nzType="delete" nzTheme="outline"></i> Eliminar
                                        </button>
                                    </div>
                                </nz-card>
                            </nz-col>
                        </nz-row>
                    </div>
                    <div *ngIf="ecosystemDocuments.length === 0" class="no-ecosystem-items-message">
                        <p>No hay elementos del ecosistema creados.</p>
                    </div>
                    <br>
                </div>
            </nz-content>
        </nz-layout>
    </nz-layout>
</div>