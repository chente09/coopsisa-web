<div class="container-fluid py-5">
    <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.1s">
        <h1 class="display-4 mb-4">Laboratorios de Innovación</h1>
        <nz-card [nzBordered]="false" class="dynamic-card">
            <p nz-typography nzType="secondary" class="dynamic-text">
                Diseñamos soluciones productivas y de servicios desde un enfoque innovador y sostenible,
                abordando desafíos sociales, ambientales y económicos.
            </p>
        </nz-card>
    </div>
    <div class="container">
        <div class="row g-4 justify-content-center">
            <div class="col-lg-4 col-md-6 d-flex align-items-stretch" *ngFor="let lab of laboratorios; let i = index">
                <div class="card h-100 card-{{ i % 8 }}">
                    <div class="card-body text-center">
                        <nz-icon [nzType]="lab.icono" nzTheme="outline"
                            style="font-size: 40px; color: #C5BB63;"></nz-icon>
                        <h5 class="card-title mt-3">{{ lab.titulo }}</h5>
                        <button class="btn btn-primary mt-3" (click)="openModalLab(lab)">Más información</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <nz-modal [(nzVisible)]="isModalVisibleLab" nzTitle="{{ selectedLab?.titulo }}" nzClassName="custom-modal"
        [nzClosable]="true" (nzOnCancel)="handleCancel()" [nzFooter]="modalFooterLab">
        <ng-container *nzModalContent>
            <div class="custom-modal-content">
                <p>{{ selectedLab?.descripcion }}</p>
            </div>
        </ng-container>
    </nz-modal>
    <ng-template #modalFooterLab>
        <button nz-button style="background-color: #3994C7; color: white; border-radius: 15px 15px;"
            (click)="handleOk()">
            <span>Mas información</span>
        </button>
    </ng-template>
</div>
<nz-card class="card-texto">
    <h2 class="custom-title">Nuestro trabajo fomenta</h2>
    <hr>
    <div class="carousel-container">
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <!-- Indicadores -->
            <div class="carousel-indicators">
                <button *ngFor="let slide of labCarruselSlides; let i = index" type="button"
                    data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [class.active]="i === 0"
                    aria-current="i === 0 ? 'true' : null" [attr.aria-label]="'Slide ' + (i + 1)">
                </button>
            </div>
            <!-- Slides -->
            <div class="carousel-inner">
                <div class="carousel-item" *ngFor="let slide of labCarruselSlides; let i = index"
                    [class.active]="i === 0">
                    <img [src]="slide.image" class="d-block w-100" alt="Imagen del carrusel" />
                    <div class="carousel-caption d-block d-md-block">
                        <h5>{{ slide.text }}</h5>
                    </div>
                </div>
            </div>
            <!-- Controles -->
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Siguiente</span>
            </button>
        </div>
    </div>
</nz-card>
<div class="container-fluid py-5">
    <nz-collapse>
        <nz-collapse-panel nzHeader="Modalidades de asistencia de los laboratorios" [nzActive]="false"
            style="background-color: #f9f9f9; border-radius: 8px; border: 1px solid #d9d9d9; transition: background-color 0.3s;">
            <div class="panel-content"
                style="position: relative; padding: 20px; background-image: url('https://i.postimg.cc/rFCrGpKR/coopsisa-Logo.png'); background-size: cover; background-position: center; border-radius: 8px;">
                <div class="panel-text"
                    style="background-color: rgba(255, 255, 255, 0.8); padding: 15px; border-radius: 8px;">
                    <p style="font-weight: bold;">Centro de negocios solidarios</p>
                    <nz-list [nzBordered]="false">
                        <nz-list-item style="padding: 8px 0; transition: background-color 0.3s;">
                            <strong>Fortalecimiento Organizativo</strong>
                            <p>Asesoramos y capacitamos a comunidades y organizaciones para que se conviertan en agentes
                                de
                                cambio efectivos y sostenibles, promoviendo la participación, la inclusión y el
                                desarrollo
                                colectivo.</p>
                        </nz-list-item>
                        <nz-list-item style="padding: 8px 0; transition: background-color 0.3s;">
                            <strong>Asistencia técnica para las finanzas sostenibles</strong>
                            <p>Apoyamos la creación de espacios de microfinanzas basados en la confianza, desarrollando
                                soluciones éticas, social y ambientalmente responsables.</p>
                        </nz-list-item>
                        <nz-list-item style="padding: 8px 0; transition: background-color 0.3s;">
                            <strong>Espacios de comercialización</strong>
                            <p>Asesoramos en la creación y fortalecimiento de espacios comerciales físicos y virtuales,
                                basados
                                en procesos de intercambio respetuosos y justos.</p>
                        </nz-list-item>
                    </nz-list>
                </div>
            </div>
        </nz-collapse-panel>
        <div class="container-fluid py-5">
            <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.1s">
                <h1 class="display-4 mb-4">Escuelas de Formación</h1>
                <nz-card [nzBordered]="false" class="dynamic-card">
                    <p nz-typography nzType="secondary" class="dynamic-text">
                        Las escuelas son iniciativas de transmisión de conocimientos formales
                        y no formales diseñadas desde los enfoques de género, educación popular y ciencia ciudadana.
                    </p>
                </nz-card>
            </div>
            <div class="container">
                <div class="row g-4 justify-content-center">
                    <div class="col-lg-4 col-md-6 d-flex align-items-stretch"
                        *ngFor="let lab of escuelas; let i = index">
                        <div class="card h-100 card-{{ i % 8 }}">
                            <div class="card-body text-center">
                                <nz-icon [nzType]="lab.icono" nzTheme="outline"
                                    style="font-size: 40px; color: #C5BB63;"></nz-icon>
                                <h5 class="card-title mt-3">{{ lab.titulo }}</h5>
                                <button class="btn btn-primary mt-3" (click)="openModalEscuela(lab)">Más
                                    información</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal -->
            <nz-modal [(nzVisible)]="isModalVisibleEscuela" nzTitle="{{ selectedLab?.titulo }}"
                nzClassName="custom-modal" [nzClosable]="true" (nzOnCancel)="handleCancel()" [nzFooter]="modalFooterEscuela">
                <ng-container *nzModalContent>
                    <div class="custom-modal-content">
                        <p>{{ selectedLab?.descripcion }}</p>
                    </div>
                </ng-container>
            </nz-modal>
            <ng-template #modalFooterEscuela>
                <button nz-button style="background-color: #3994C7; color: white; border-radius: 15px 15px;"
                    (click)="handleEsc()">
                    <span>Mas información</span>
                </button>
            </ng-template>
        </div>

        <nz-card class="card-texto">
            <h2 class="custom-title">Nuestro trabajo fomenta</h2>
            <hr>
            <div class="carousel-container">
                <div id="carouselIndicators2" class="carousel slide" data-bs-ride="carousel">
                    <!-- Indicadores -->
                    <div class="carousel-indicators">
                        <button *ngFor="let slide of escuelasSlides; let i = index" type="button"
                            data-bs-target="#carouselIndicators2" [attr.data-bs-slide-to]="i" [class.active]="i === 0"
                            aria-current="i === 0 ? 'true' : null" [attr.aria-label]="'Slide ' + (i + 1)">
                        </button>
                    </div>
                    <!-- Slides -->
                    <div class="carousel-inner">
                        <div class="carousel-item" *ngFor="let slide of escuelasSlides; let i = index"
                            [class.active]="i === 0">
                            <img [src]="slide.image" class="d-block w-100" alt="Imagen del carrusel" />
                            <div class="carousel-caption d-block d-md-block">
                                <h5>{{ slide.text }}</h5>
                            </div>
                        </div>
                    </div>
                    <!-- Controles -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators2"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators2"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Siguiente</span>
                    </button>
                </div>
            </div>
        </nz-card>

        <nz-collapse-panel nzHeader="Escuela de formación y comercio justo" [nzActive]="false"
            style="background-color: #f9f9f9; border-radius: 8px; border: 1px solid #d9d9d9; transition: background-color 0.3s;">
            <div class="panel-content"
                style="position: relative; padding: 20px; background-image: url('https://i.postimg.cc/rFCrGpKR/coopsisa-Logo.png'); background-size: cover; background-position: center; border-radius: 8px;">
                <div class="panel-text"
                    style="background-color: rgba(255, 255, 255, 0.8); padding: 15px; border-radius: 8px;">
                    <nz-list [nzBordered]="false">
                        <nz-list-item style="padding: 8px 0; transition: background-color 0.3s;">
                            <strong>Fortalecimiento de capacidades</strong>
                            <p>Ofrecemos capacitaciones y asistencia técnica para empoderar a individuos, grupos y
                                organizaciones con herramientas necesarias para generar impacto positivo en sus
                                comunidades.</p>
                        </nz-list-item>
                        <nz-list-item style="padding: 8px 0; transition: background-color 0.3s;">
                            <strong>Importación y exportación sostenible</strong>
                            <p>Facilitamos procesos de comercio internacional con prácticas económicas, sociales y
                                ambientales
                                responsables, garantizando la sostenibilidad para futuras generaciones.</p>
                        </nz-list-item>
                    </nz-list>
                </div>
            </div>
        </nz-collapse-panel>
    </nz-collapse>
</div>